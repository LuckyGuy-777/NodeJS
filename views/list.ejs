<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/main.css" />
  </head>
  <body class="grey-bg">
    <%- include('nav.ejs') %>

    <!-- <%= JSON.stringify(ê¸€ëª©ë¡) %>
    <%= ê¸€ëª©ë¡ %> -->
    <div class="white-bg">
      <% for(let i = 0; i < ê¸€ëª©ë¡.length; i++){ %>
      <div class="list-box">
        <h4>
          <!-- idê°’ì„ ì´ìš©í•´ì„œ, ê¸€ ë§í¬ ë§Œë“¤ê¸° -->
          <a href="/detail/<%= ê¸€ëª©ë¡[i]._id %>"> <%= ê¸€ëª©ë¡[i].title %> </a>
          <a href="/edit/<%= ê¸€ëª©ë¡[i]._id %>">âœï¸</a>
          <span class="delete">ğŸ—‘ï¸</span>
        </h4>
        <p>ê¸€ë‚´ìš©ì„</p>
      </div>
      <% } %>
    </div>

    <!--  // 1. ì‚­ì œë²„íŠ¼ ëˆ„ë¥´ë©´ ajax ì¨ì„œ ì„œë²„ë¡œ ìš”ì²­
      // delete ë¼ëŠ” í´ë˜ìŠ¤ ì˜ íƒœê·¸ í´ë¦­ë˜ë©´, -->
    <script>
      document
        .querySelectorAll(".delete")[0]
        .addEventListener("click", function () {
          fetch("/abc", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ a: 1 }),
          });
        });
    </script>
  </body>
</html>
